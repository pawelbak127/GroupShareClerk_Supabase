"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/offers/route";
exports.ids = ["app/api/offers/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foffers%2Froute&page=%2Fapi%2Foffers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foffers%2Froute.js&appDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShareClerk_Supabase%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShareClerk_Supabase%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foffers%2Froute&page=%2Fapi%2Foffers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foffers%2Froute.js&appDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShareClerk_Supabase%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShareClerk_Supabase%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_bacze_Project_GroupShareClerk_Supabase_groupshare_project_src_app_api_offers_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/offers/route.js */ \"(rsc)/./src/app/api/offers/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/offers/route\",\n        pathname: \"/api/offers\",\n        filename: \"route\",\n        bundlePath: \"app/api/offers/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\bacze\\\\Project\\\\GroupShareClerk_Supabase\\\\groupshare-project\\\\src\\\\app\\\\api\\\\offers\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_bacze_Project_GroupShareClerk_Supabase_groupshare_project_src_app_api_offers_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/offers/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZvZmZlcnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm9mZmVycyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm9mZmVycyUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNiYWN6ZSU1Q1Byb2plY3QlNUNHcm91cFNoYXJlQ2xlcmtfU3VwYWJhc2UlNUNncm91cHNoYXJlLXByb2plY3QlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q2JhY3plJTVDUHJvamVjdCU1Q0dyb3VwU2hhcmVDbGVya19TdXBhYmFzZSU1Q2dyb3Vwc2hhcmUtcHJvamVjdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDd0Q7QUFDckk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncm91cHNoYXJlLXByb2plY3QvP2NmYzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcYmFjemVcXFxcUHJvamVjdFxcXFxHcm91cFNoYXJlQ2xlcmtfU3VwYWJhc2VcXFxcZ3JvdXBzaGFyZS1wcm9qZWN0XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXG9mZmVyc1xcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvb2ZmZXJzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvb2ZmZXJzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9vZmZlcnMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxiYWN6ZVxcXFxQcm9qZWN0XFxcXEdyb3VwU2hhcmVDbGVya19TdXBhYmFzZVxcXFxncm91cHNoYXJlLXByb2plY3RcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcb2ZmZXJzXFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9vZmZlcnMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foffers%2Froute&page=%2Fapi%2Foffers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foffers%2Froute.js&appDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShareClerk_Supabase%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShareClerk_Supabase%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/offers/route.js":
/*!*************************************!*\
  !*** ./src/app/api/offers/route.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_auth_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/auth-service */ \"(rsc)/./src/lib/auth-service.js\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/supabase-server */ \"(rsc)/./src/lib/supabase-server.js\");\n/* harmony import */ var _lib_supabase_admin_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/supabase-admin-client */ \"(rsc)/./src/lib/supabase-admin-client.js\");\nconst dynamic = \"force-dynamic\";\n\n\n\n\n\n/**\r\n * GET /api/offers\r\n * Get subscription offers with optional filtering\r\n */ async function GET(request) {\n    try {\n        // Parse query parameters\n        const { searchParams } = new URL(request.url);\n        // W przypadku problemów z autentykacją, użyj klienta administratora\n        // Ten powinien zawsze działać, ponieważ używa service role\n        const supabaseClient = _lib_supabase_admin_client__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n        // Parse filters from query parameters\n        const filters = {\n            platformId: searchParams.get(\"platformId\") || undefined,\n            minPrice: searchParams.get(\"minPrice\") ? parseFloat(searchParams.get(\"minPrice\")) : undefined,\n            maxPrice: searchParams.get(\"maxPrice\") ? parseFloat(searchParams.get(\"maxPrice\")) : undefined,\n            availableSlots: searchParams.get(\"availableSlots\") !== \"false\",\n            orderBy: searchParams.get(\"orderBy\") || \"created_at\",\n            ascending: searchParams.get(\"ascending\") === \"true\",\n            limit: searchParams.get(\"limit\") ? parseInt(searchParams.get(\"limit\")) : 10,\n            offset: searchParams.get(\"offset\") ? parseInt(searchParams.get(\"offset\")) : 0\n        };\n        // Przygotowanie zapytania\n        let query = supabaseClient.from(\"group_subs\").select(`\r\n        *,\r\n        subscription_platforms(*),\r\n        groups(id, name, description),\r\n        owner:groups!inner(owner_id, user_profiles!inner(id, display_name, avatar_url, rating_avg, rating_count, verification_level))\r\n      `).eq(\"status\", \"active\");\n        // Dodaj filtr na platformę\n        if (filters.platformId) {\n            query = query.eq(\"platform_id\", filters.platformId);\n        }\n        // Dodaj filtr na cenę minimalną\n        if (filters.minPrice !== undefined && !isNaN(filters.minPrice)) {\n            query = query.gte(\"price_per_slot\", filters.minPrice);\n        }\n        // Dodaj filtr na cenę maksymalną\n        if (filters.maxPrice !== undefined && !isNaN(filters.maxPrice)) {\n            query = query.lte(\"price_per_slot\", filters.maxPrice);\n        }\n        // Filtruj oferty tylko z dostępnymi miejscami\n        if (filters.availableSlots !== false) {\n            query = query.gt(\"slots_available\", 0);\n        }\n        // Sortowanie\n        const orderBy = filters.orderBy || \"created_at\";\n        const ascending = filters.ascending || false;\n        query = query.order(orderBy, {\n            ascending\n        });\n        // Limit i paginacja\n        if (filters.limit) {\n            query = query.limit(filters.limit);\n        }\n        if (filters.offset) {\n            query = query.offset(filters.offset);\n        }\n        // Wykonaj zapytanie\n        const { data, error } = await query;\n        if (error) {\n            console.error(\"Error fetching subscription offers:\", error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message || \"Failed to fetch subscription offers\",\n                code: error.code || \"unknown\"\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(data || []);\n    } catch (error) {\n        console.error(\"Error fetching offers:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Failed to fetch subscription offers\",\n            code: error.code || \"unknown\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T3ZDLHFEQUFZQSxDQUFDb0MsSUFBSSxDQUFDSCxRQUFRLEVBQUU7SUFDckMsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU9sQyxxREFBWUEsQ0FBQ29DLElBQUksQ0FDdEI7WUFBRUYsT0FBT0EsTUFBTUcsT0FBTyxJQUFJO1lBQXVDQyxNQUFNSixNQUFNSSxJQUFJLElBQUk7UUFBVSxHQUMvRjtZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyb3Vwc2hhcmUtcHJvamVjdC8uL3NyYy9hcHAvYXBpL29mZmVycy9yb3V0ZS5qcz85ZjMyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBkeW5hbWljID0gJ2ZvcmNlLWR5bmFtaWMnO1xyXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGN1cnJlbnRVc2VyIH0gZnJvbSAnQGNsZXJrL25leHRqcy9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBnZXRDdXJyZW50VXNlclByb2ZpbGUgfSBmcm9tICcuLi8uLi8uLi9saWIvYXV0aC1zZXJ2aWNlJztcclxuaW1wb3J0IHsgY3JlYXRlU2VydmVyU3VwYWJhc2VDbGllbnQgfSBmcm9tICcuLi8uLi8uLi9saWIvc3VwYWJhc2Utc2VydmVyJztcclxuaW1wb3J0IHN1cGFiYXNlQWRtaW4gZnJvbSAnLi4vLi4vLi4vbGliL3N1cGFiYXNlLWFkbWluLWNsaWVudCc7XHJcblxyXG4vKipcclxuICogR0VUIC9hcGkvb2ZmZXJzXHJcbiAqIEdldCBzdWJzY3JpcHRpb24gb2ZmZXJzIHdpdGggb3B0aW9uYWwgZmlsdGVyaW5nXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgLy8gUGFyc2UgcXVlcnkgcGFyYW1ldGVyc1xyXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xyXG4gICAgXHJcbiAgICAvLyBXIHByenlwYWRrdSBwcm9ibGVtw7N3IHogYXV0ZW50eWthY2rEhSwgdcW8eWoga2xpZW50YSBhZG1pbmlzdHJhdG9yYVxyXG4gICAgLy8gVGVuIHBvd2luaWVuIHphd3N6ZSBkemlhxYJhxIcsIHBvbmlld2HFvCB1xbx5d2Egc2VydmljZSByb2xlXHJcbiAgICBjb25zdCBzdXBhYmFzZUNsaWVudCA9IHN1cGFiYXNlQWRtaW47XHJcbiAgICBcclxuICAgIC8vIFBhcnNlIGZpbHRlcnMgZnJvbSBxdWVyeSBwYXJhbWV0ZXJzXHJcbiAgICBjb25zdCBmaWx0ZXJzID0ge1xyXG4gICAgICBwbGF0Zm9ybUlkOiBzZWFyY2hQYXJhbXMuZ2V0KCdwbGF0Zm9ybUlkJykgfHwgdW5kZWZpbmVkLFxyXG4gICAgICBtaW5QcmljZTogc2VhcmNoUGFyYW1zLmdldCgnbWluUHJpY2UnKSA/IHBhcnNlRmxvYXQoc2VhcmNoUGFyYW1zLmdldCgnbWluUHJpY2UnKSkgOiB1bmRlZmluZWQsXHJcbiAgICAgIG1heFByaWNlOiBzZWFyY2hQYXJhbXMuZ2V0KCdtYXhQcmljZScpID8gcGFyc2VGbG9hdChzZWFyY2hQYXJhbXMuZ2V0KCdtYXhQcmljZScpKSA6IHVuZGVmaW5lZCxcclxuICAgICAgYXZhaWxhYmxlU2xvdHM6IHNlYXJjaFBhcmFtcy5nZXQoJ2F2YWlsYWJsZVNsb3RzJykgIT09ICdmYWxzZScsIC8vIERlZmF1bHQgdG8gdHJ1ZVxyXG4gICAgICBvcmRlckJ5OiBzZWFyY2hQYXJhbXMuZ2V0KCdvcmRlckJ5JykgfHwgJ2NyZWF0ZWRfYXQnLFxyXG4gICAgICBhc2NlbmRpbmc6IHNlYXJjaFBhcmFtcy5nZXQoJ2FzY2VuZGluZycpID09PSAndHJ1ZScsXHJcbiAgICAgIGxpbWl0OiBzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpID8gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnbGltaXQnKSkgOiAxMCxcclxuICAgICAgb2Zmc2V0OiBzZWFyY2hQYXJhbXMuZ2V0KCdvZmZzZXQnKSA/IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ29mZnNldCcpKSA6IDBcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIFByenlnb3Rvd2FuaWUgemFweXRhbmlhXHJcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZUNsaWVudFxyXG4gICAgICAuZnJvbSgnZ3JvdXBfc3VicycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICosXHJcbiAgICAgICAgc3Vic2NyaXB0aW9uX3BsYXRmb3JtcygqKSxcclxuICAgICAgICBncm91cHMoaWQsIG5hbWUsIGRlc2NyaXB0aW9uKSxcclxuICAgICAgICBvd25lcjpncm91cHMhaW5uZXIob3duZXJfaWQsIHVzZXJfcHJvZmlsZXMhaW5uZXIoaWQsIGRpc3BsYXlfbmFtZSwgYXZhdGFyX3VybCwgcmF0aW5nX2F2ZywgcmF0aW5nX2NvdW50LCB2ZXJpZmljYXRpb25fbGV2ZWwpKVxyXG4gICAgICBgKVxyXG4gICAgICAuZXEoJ3N0YXR1cycsICdhY3RpdmUnKTtcclxuICAgIFxyXG4gICAgLy8gRG9kYWogZmlsdHIgbmEgcGxhdGZvcm3EmVxyXG4gICAgaWYgKGZpbHRlcnMucGxhdGZvcm1JZCkge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdwbGF0Zm9ybV9pZCcsIGZpbHRlcnMucGxhdGZvcm1JZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIERvZGFqIGZpbHRyIG5hIGNlbsSZIG1pbmltYWxuxIVcclxuICAgIGlmIChmaWx0ZXJzLm1pblByaWNlICE9PSB1bmRlZmluZWQgJiYgIWlzTmFOKGZpbHRlcnMubWluUHJpY2UpKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZ3RlKCdwcmljZV9wZXJfc2xvdCcsIGZpbHRlcnMubWluUHJpY2UpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBEb2RhaiBmaWx0ciBuYSBjZW7EmSBtYWtzeW1hbG7EhVxyXG4gICAgaWYgKGZpbHRlcnMubWF4UHJpY2UgIT09IHVuZGVmaW5lZCAmJiAhaXNOYU4oZmlsdGVycy5tYXhQcmljZSkpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5sdGUoJ3ByaWNlX3Blcl9zbG90JywgZmlsdGVycy5tYXhQcmljZSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEZpbHRydWogb2ZlcnR5IHR5bGtvIHogZG9zdMSZcG55bWkgbWllanNjYW1pXHJcbiAgICBpZiAoZmlsdGVycy5hdmFpbGFibGVTbG90cyAhPT0gZmFsc2UpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5ndCgnc2xvdHNfYXZhaWxhYmxlJywgMCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNvcnRvd2FuaWVcclxuICAgIGNvbnN0IG9yZGVyQnkgPSBmaWx0ZXJzLm9yZGVyQnkgfHwgJ2NyZWF0ZWRfYXQnO1xyXG4gICAgY29uc3QgYXNjZW5kaW5nID0gZmlsdGVycy5hc2NlbmRpbmcgfHwgZmFsc2U7XHJcbiAgICBxdWVyeSA9IHF1ZXJ5Lm9yZGVyKG9yZGVyQnksIHsgYXNjZW5kaW5nIH0pO1xyXG4gICAgXHJcbiAgICAvLyBMaW1pdCBpIHBhZ2luYWNqYVxyXG4gICAgaWYgKGZpbHRlcnMubGltaXQpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5saW1pdChmaWx0ZXJzLmxpbWl0KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGZpbHRlcnMub2Zmc2V0KSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkub2Zmc2V0KGZpbHRlcnMub2Zmc2V0KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gV3lrb25haiB6YXB5dGFuaWVcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5O1xyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc3Vic2NyaXB0aW9uIG9mZmVyczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZmV0Y2ggc3Vic2NyaXB0aW9uIG9mZmVycycsIGNvZGU6IGVycm9yLmNvZGUgfHwgJ3Vua25vd24nIH0sIFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZGF0YSB8fCBbXSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG9mZmVyczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBmZXRjaCBzdWJzY3JpcHRpb24gb2ZmZXJzJywgY29kZTogZXJyb3IuY29kZSB8fCAndW5rbm93bicgfSwgXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiZHluYW1pYyIsIk5leHRSZXNwb25zZSIsImN1cnJlbnRVc2VyIiwiZ2V0Q3VycmVudFVzZXJQcm9maWxlIiwiY3JlYXRlU2VydmVyU3VwYWJhc2VDbGllbnQiLCJzdXBhYmFzZUFkbWluIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInN1cGFiYXNlQ2xpZW50IiwiZmlsdGVycyIsInBsYXRmb3JtSWQiLCJnZXQiLCJ1bmRlZmluZWQiLCJtaW5QcmljZSIsInBhcnNlRmxvYXQiLCJtYXhQcmljZSIsImF2YWlsYWJsZVNsb3RzIiwib3JkZXJCeSIsImFzY2VuZGluZyIsImxpbWl0IiwicGFyc2VJbnQiLCJvZmZzZXQiLCJxdWVyeSIsImZyb20iLCJzZWxlY3QiLCJlcSIsImlzTmFOIiwiZ3RlIiwibHRlIiwiZ3QiLCJvcmRlciIsImRhdGEiLCJlcnJvciIsImNvbnNvbGUiLCJqc29uIiwibWVzc2FnZSIsImNvZGUiLCJzdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/offers/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth-service.js":
/*!*********************************!*\
  !*** ./src/lib/auth-service.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCurrentUserProfile: () => (/* binding */ getCurrentUserProfile),\n/* harmony export */   getOrCreateUserProfile: () => (/* binding */ getOrCreateUserProfile),\n/* harmony export */   getUserProfileWithAuth: () => (/* binding */ getUserProfileWithAuth),\n/* harmony export */   updateUserProfile: () => (/* binding */ updateUserProfile),\n/* harmony export */   verifyUserSession: () => (/* binding */ verifyUserSession)\n/* harmony export */ });\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/app-router/server/currentUser.js\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/app-router/server/auth.js\");\n/* harmony import */ var _supabase_admin_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase-admin-client */ \"(rsc)/./src/lib/supabase-admin-client.js\");\n/* harmony import */ var _supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./supabase-server */ \"(rsc)/./src/lib/supabase-server.js\");\n\n\n\n/**\r\n * Pobiera aktualny profil użytkownika z bazy danych\r\n */ async function getCurrentUserProfile() {\n    try {\n        // Pobierz użytkownika z Clerk\n        const user = await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__.currentUser)();\n        if (!user) {\n            console.log(\"No authenticated user found\");\n            return null;\n        }\n        console.log(\"Getting profile for user:\", user.id);\n        // Tworzymy uwierzytelnionego klienta Supabase\n        const supabaseClient = (0,_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createServerSupabaseClient)();\n        // Próbujemy najpierw pobrać profil używając uwierzytelnionego klienta\n        const { data: authData, error: authError } = await supabaseClient.from(\"user_profiles\").select(\"*\").eq(\"external_auth_id\", user.id).single();\n        if (!authError && authData) {\n            console.log(\"Found profile using authenticated client\");\n            return authData;\n        }\n        // Jeśli nie udało się pobrać z uwierzytelnionym klientem, używamy supabaseAdmin\n        const { data, error } = await _supabase_admin_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].from(\"user_profiles\").select(\"*\").eq(\"external_auth_id\", user.id).single();\n        if (error) {\n            // Ignorujemy błąd \"nie znaleziono\" (PGRST116)\n            if (error.code === \"PGRST116\") {\n                console.log(\"No profile found for user:\", user.id);\n                return null;\n            }\n            console.error(\"Error fetching user profile:\", error);\n            return null;\n        }\n        console.log(\"Found profile for user:\", user.id);\n        return data;\n    } catch (error) {\n        console.error(\"Exception in getCurrentUserProfile:\", error);\n        return null;\n    }\n}\n/**\r\n * Pobiera profil użytkownika Clerk i tworzy go jeśli nie istnieje\r\n */ async function getOrCreateUserProfile() {\n    try {\n        const user = await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__.currentUser)();\n        if (!user) {\n            console.log(\"No authenticated user found\");\n            return null;\n        }\n        console.log(\"Getting or creating profile for user:\", user.id);\n        // Próba pobrania istniejącego profilu\n        const userProfile = await getCurrentUserProfile();\n        // Jeśli profil istnieje, zwróć go\n        if (userProfile) {\n            return userProfile;\n        }\n        console.log(\"Creating new profile for user:\", user.id);\n        // Próbujemy pobrać e-mail i dane\n        let email = \"\";\n        let firstName = \"\";\n        let lastName = \"\";\n        let imageUrl = null;\n        if (user.emailAddresses && user.emailAddresses.length > 0) {\n            email = user.emailAddresses[0].emailAddress;\n        }\n        firstName = user.firstName || \"\";\n        lastName = user.lastName || \"\";\n        imageUrl = user.imageUrl || null;\n        // W przeciwnym razie utwórz nowy profil\n        const newProfile = {\n            external_auth_id: user.id,\n            display_name: firstName ? `${firstName} ${lastName || \"\"}`.trim() : user.username || \"Nowy użytkownik\",\n            email: email,\n            phone_number: user.phoneNumbers && user.phoneNumbers[0]?.phoneNumber || null,\n            profile_type: \"both\",\n            verification_level: \"basic\",\n            bio: \"\",\n            avatar_url: imageUrl,\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        };\n        // Użyj supabaseAdmin, który ma uprawnienia service_role i pomija RLS\n        const { data: createdProfile, error: createError } = await _supabase_admin_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].from(\"user_profiles\").insert([\n            newProfile\n        ]).select().single();\n        if (createError) {\n            console.error(\"Error creating user profile with supabaseAdmin:\", createError);\n            return null;\n        }\n        console.log(\"Successfully created profile for user:\", user.id);\n        return createdProfile;\n    } catch (error) {\n        console.error(\"Error in getOrCreateUserProfile:\", error);\n        return null;\n    }\n}\n/**\r\n * Aktualizuje profil użytkownika\r\n */ async function updateUserProfile(userId, profileData) {\n    try {\n        if (!userId) {\n            throw new Error(\"User ID is required\");\n        }\n        const { data, error } = await _supabase_admin_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].from(\"user_profiles\").update(profileData).eq(\"id\", userId).select().single();\n        if (error) {\n            console.error(\"Error updating user profile:\", error);\n            throw error;\n        }\n        return data;\n    } catch (error) {\n        console.error(\"Exception in updateUserProfile:\", error);\n        throw error;\n    }\n}\n/**\r\n * Pobiera profil użytkownika używając uwierzytelnionego klienta\r\n */ async function getUserProfileWithAuth() {\n    try {\n        const user = await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__.currentUser)();\n        if (!user) {\n            console.log(\"No authenticated user found\");\n            return null;\n        }\n        // Użyj uwierzytelnionego klienta Supabase\n        const supabaseAuth = (0,_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createServerSupabaseClient)();\n        const { data, error } = await supabaseAuth.from(\"user_profiles\").select(\"*\").eq(\"external_auth_id\", user.id).single();\n        if (error) {\n            console.error(\"Error fetching user profile with auth:\", error);\n            return null;\n        }\n        return data;\n    } catch (error) {\n        console.error(\"Exception in getUserProfileWithAuth:\", error);\n        return null;\n    }\n}\n/**\r\n * Sprawdza, czy użytkownik ma prawidłową sesję Clerk\r\n */ async function verifyUserSession() {\n    try {\n        const user = await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_2__.currentUser)();\n        if (!user) {\n            return false;\n        }\n        // Sprawdź, czy możemy pobrać token\n        try {\n            const authInstance = (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_3__.auth)();\n            if (!authInstance) {\n                return false;\n            }\n            const token = await authInstance.getToken();\n            return !!token;\n        } catch (error) {\n            console.error(\"Error verifying user session:\", error);\n            return false;\n        }\n    } catch (error) {\n        console.error(\"Exception in verifyUserSession:\", error);\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OUIsSUFBSSxDQUFDSyxNQUFNO1lBQ1RDLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU87UUFDVDtRQUVBLDBDQUEwQztRQUMxQyxNQUFNOEMsZUFBZWxELDRFQUEwQkE7UUFFL0MsTUFBTSxFQUFFTyxJQUFJLEVBQUVFLEtBQUssRUFBRSxHQUFHLE1BQU15QyxhQUMzQnZDLElBQUksQ0FBQyxpQkFDTEMsTUFBTSxDQUFDLEtBQ1BDLEVBQUUsQ0FBQyxvQkFBb0JYLEtBQUtHLEVBQUUsRUFDOUJTLE1BQU07UUFFVCxJQUFJTCxPQUFPO1lBQ1ROLFFBQVFNLEtBQUssQ0FBQywwQ0FBMENBO1lBQ3hELE9BQU87UUFDVDtRQUVBLE9BQU9GO0lBQ1QsRUFBRSxPQUFPRSxPQUFPO1FBQ2ROLFFBQVFNLEtBQUssQ0FBQyx3Q0FBd0NBO1FBQ3RELE9BQU87SUFDVDtBQUNGO0FBRUE7O0NBRUMsR0FDTSxlQUFlMEM7SUFDcEIsSUFBSTtRQUNGLE1BQU1qRCxPQUFPLE1BQU1MLGlFQUFXQTtRQUU5QixJQUFJLENBQUNLLE1BQU07WUFDVCxPQUFPO1FBQ1Q7UUFFQSxtQ0FBbUM7UUFDbkMsSUFBSTtZQUNGLE1BQU1rRCxlQUFldEQsMERBQUlBO1lBQ3pCLElBQUksQ0FBQ3NELGNBQWM7Z0JBQ2pCLE9BQU87WUFDVDtZQUVBLE1BQU1DLFFBQVEsTUFBTUQsYUFBYUUsUUFBUTtZQUN6QyxPQUFPLENBQUMsQ0FBQ0Q7UUFDWCxFQUFFLE9BQU81QyxPQUFPO1lBQ2ROLFFBQVFNLEtBQUssQ0FBQyxpQ0FBaUNBO1lBQy9DLE9BQU87UUFDVDtJQUNGLEVBQUUsT0FBT0EsT0FBTztRQUNkTixRQUFRTSxLQUFLLENBQUMsbUNBQW1DQTtRQUNqRCxPQUFPO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyb3Vwc2hhcmUtcHJvamVjdC8uL3NyYy9saWIvYXV0aC1zZXJ2aWNlLmpzP2U4ZWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3VycmVudFVzZXIsIGF1dGggfSBmcm9tICdAY2xlcmsvbmV4dGpzL3NlcnZlcic7XHJcbmltcG9ydCBzdXBhYmFzZUFkbWluIGZyb20gJy4vc3VwYWJhc2UtYWRtaW4tY2xpZW50JztcclxuaW1wb3J0IHsgY3JlYXRlU2VydmVyU3VwYWJhc2VDbGllbnQgfSBmcm9tICcuL3N1cGFiYXNlLXNlcnZlcic7XHJcblxyXG4vKipcclxuICogUG9iaWVyYSBha3R1YWxueSBwcm9maWwgdcW8eXRrb3duaWthIHogYmF6eSBkYW55Y2hcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXJyZW50VXNlclByb2ZpbGUoKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFBvYmllcnogdcW8eXRrb3duaWthIHogQ2xlcmtcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBjdXJyZW50VXNlcigpO1xyXG4gICAgXHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgY29uc29sZS5sb2coJ05vIGF1dGhlbnRpY2F0ZWQgdXNlciBmb3VuZCcpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0dldHRpbmcgcHJvZmlsZSBmb3IgdXNlcjonLCB1c2VyLmlkKTtcclxuICAgIFxyXG4gICAgLy8gVHdvcnp5bXkgdXdpZXJ6eXRlbG5pb25lZ28ga2xpZW50YSBTdXBhYmFzZVxyXG4gICAgY29uc3Qgc3VwYWJhc2VDbGllbnQgPSBjcmVhdGVTZXJ2ZXJTdXBhYmFzZUNsaWVudCgpO1xyXG4gICAgXHJcbiAgICAvLyBQcsOzYnVqZW15IG5hanBpZXJ3IHBvYnJhxIcgcHJvZmlsIHXFvHl3YWrEhWMgdXdpZXJ6eXRlbG5pb25lZ28ga2xpZW50YVxyXG4gICAgY29uc3QgeyBkYXRhOiBhdXRoRGF0YSwgZXJyb3I6IGF1dGhFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VDbGllbnRcclxuICAgICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdleHRlcm5hbF9hdXRoX2lkJywgdXNlci5pZClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgICBcclxuICAgIGlmICghYXV0aEVycm9yICYmIGF1dGhEYXRhKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBwcm9maWxlIHVzaW5nIGF1dGhlbnRpY2F0ZWQgY2xpZW50Jyk7XHJcbiAgICAgIHJldHVybiBhdXRoRGF0YTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSmXFm2xpIG5pZSB1ZGHFgm8gc2nEmSBwb2JyYcSHIHogdXdpZXJ6eXRlbG5pb255bSBrbGllbnRlbSwgdcW8eXdhbXkgc3VwYWJhc2VBZG1pblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgndXNlcl9wcm9maWxlcycpXHJcbiAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAuZXEoJ2V4dGVybmFsX2F1dGhfaWQnLCB1c2VyLmlkKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICAvLyBJZ25vcnVqZW15IGLFgsSFZCBcIm5pZSB6bmFsZXppb25vXCIgKFBHUlNUMTE2KVxyXG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2Jykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdObyBwcm9maWxlIGZvdW5kIGZvciB1c2VyOicsIHVzZXIuaWQpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIHByb2ZpbGU6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0ZvdW5kIHByb2ZpbGUgZm9yIHVzZXI6JywgdXNlci5pZCk7XHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXhjZXB0aW9uIGluIGdldEN1cnJlbnRVc2VyUHJvZmlsZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQb2JpZXJhIHByb2ZpbCB1xbx5dGtvd25pa2EgQ2xlcmsgaSB0d29yenkgZ28gamXFm2xpIG5pZSBpc3RuaWVqZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE9yQ3JlYXRlVXNlclByb2ZpbGUoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBjdXJyZW50VXNlcigpO1xyXG4gICAgXHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgY29uc29sZS5sb2coJ05vIGF1dGhlbnRpY2F0ZWQgdXNlciBmb3VuZCcpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0dldHRpbmcgb3IgY3JlYXRpbmcgcHJvZmlsZSBmb3IgdXNlcjonLCB1c2VyLmlkKTtcclxuICAgIFxyXG4gICAgLy8gUHLDs2JhIHBvYnJhbmlhIGlzdG5pZWrEhWNlZ28gcHJvZmlsdVxyXG4gICAgY29uc3QgdXNlclByb2ZpbGUgPSBhd2FpdCBnZXRDdXJyZW50VXNlclByb2ZpbGUoKTtcclxuICAgIFxyXG4gICAgLy8gSmXFm2xpIHByb2ZpbCBpc3RuaWVqZSwgendyw7PEhyBnb1xyXG4gICAgaWYgKHVzZXJQcm9maWxlKSB7XHJcbiAgICAgIHJldHVybiB1c2VyUHJvZmlsZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIG5ldyBwcm9maWxlIGZvciB1c2VyOicsIHVzZXIuaWQpO1xyXG4gICAgXHJcbiAgICAvLyBQcsOzYnVqZW15IHBvYnJhxIcgZS1tYWlsIGkgZGFuZVxyXG4gICAgbGV0IGVtYWlsID0gJyc7XHJcbiAgICBsZXQgZmlyc3ROYW1lID0gJyc7XHJcbiAgICBsZXQgbGFzdE5hbWUgPSAnJztcclxuICAgIGxldCBpbWFnZVVybCA9IG51bGw7XHJcbiAgICBcclxuICAgIGlmICh1c2VyLmVtYWlsQWRkcmVzc2VzICYmIHVzZXIuZW1haWxBZGRyZXNzZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICBlbWFpbCA9IHVzZXIuZW1haWxBZGRyZXNzZXNbMF0uZW1haWxBZGRyZXNzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmaXJzdE5hbWUgPSB1c2VyLmZpcnN0TmFtZSB8fCAnJztcclxuICAgIGxhc3ROYW1lID0gdXNlci5sYXN0TmFtZSB8fCAnJztcclxuICAgIGltYWdlVXJsID0gdXNlci5pbWFnZVVybCB8fCBudWxsO1xyXG4gICAgXHJcbiAgICAvLyBXIHByemVjaXdueW0gcmF6aWUgdXR3w7NyeiBub3d5IHByb2ZpbFxyXG4gICAgY29uc3QgbmV3UHJvZmlsZSA9IHtcclxuICAgICAgZXh0ZXJuYWxfYXV0aF9pZDogdXNlci5pZCxcclxuICAgICAgZGlzcGxheV9uYW1lOiBmaXJzdE5hbWUgXHJcbiAgICAgICAgPyBgJHtmaXJzdE5hbWV9ICR7bGFzdE5hbWUgfHwgJyd9YC50cmltKCkgXHJcbiAgICAgICAgOiAodXNlci51c2VybmFtZSB8fCAnTm93eSB1xbx5dGtvd25paycpLFxyXG4gICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgIHBob25lX251bWJlcjogdXNlci5waG9uZU51bWJlcnMgJiYgdXNlci5waG9uZU51bWJlcnNbMF0/LnBob25lTnVtYmVyIHx8IG51bGwsXHJcbiAgICAgIHByb2ZpbGVfdHlwZTogJ2JvdGgnLFxyXG4gICAgICB2ZXJpZmljYXRpb25fbGV2ZWw6ICdiYXNpYycsXHJcbiAgICAgIGJpbzogJycsXHJcbiAgICAgIGF2YXRhcl91cmw6IGltYWdlVXJsLFxyXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gVcW8eWogc3VwYWJhc2VBZG1pbiwga3TDs3J5IG1hIHVwcmF3bmllbmlhIHNlcnZpY2Vfcm9sZSBpIHBvbWlqYSBSTFNcclxuICAgIGNvbnN0IHsgZGF0YTogY3JlYXRlZFByb2ZpbGUsIGVycm9yOiBjcmVhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgndXNlcl9wcm9maWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW25ld1Byb2ZpbGVdKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBpZiAoY3JlYXRlRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgdXNlciBwcm9maWxlIHdpdGggc3VwYWJhc2VBZG1pbjonLCBjcmVhdGVFcnJvcik7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgcHJvZmlsZSBmb3IgdXNlcjonLCB1c2VyLmlkKTtcclxuICAgIHJldHVybiBjcmVhdGVkUHJvZmlsZTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZ2V0T3JDcmVhdGVVc2VyUHJvZmlsZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBa3R1YWxpenVqZSBwcm9maWwgdcW8eXRrb3duaWthXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlclByb2ZpbGUodXNlcklkLCBwcm9maWxlRGF0YSkge1xyXG4gIHRyeSB7XHJcbiAgICBpZiAoIXVzZXJJZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgSUQgaXMgcmVxdWlyZWQnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgndXNlcl9wcm9maWxlcycpXHJcbiAgICAgIC51cGRhdGUocHJvZmlsZURhdGEpXHJcbiAgICAgIC5lcSgnaWQnLCB1c2VySWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyIHByb2ZpbGU6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0V4Y2VwdGlvbiBpbiB1cGRhdGVVc2VyUHJvZmlsZTonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQb2JpZXJhIHByb2ZpbCB1xbx5dGtvd25pa2EgdcW8eXdhasSFYyB1d2llcnp5dGVsbmlvbmVnbyBrbGllbnRhXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclByb2ZpbGVXaXRoQXV0aCgpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGN1cnJlbnRVc2VyKCk7XHJcbiAgICBcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICBjb25zb2xlLmxvZygnTm8gYXV0aGVudGljYXRlZCB1c2VyIGZvdW5kJyk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBVxbx5aiB1d2llcnp5dGVsbmlvbmVnbyBrbGllbnRhIFN1cGFiYXNlXHJcbiAgICBjb25zdCBzdXBhYmFzZUF1dGggPSBjcmVhdGVTZXJ2ZXJTdXBhYmFzZUNsaWVudCgpO1xyXG4gICAgXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUF1dGhcclxuICAgICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdleHRlcm5hbF9hdXRoX2lkJywgdXNlci5pZClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBwcm9maWxlIHdpdGggYXV0aDonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXhjZXB0aW9uIGluIGdldFVzZXJQcm9maWxlV2l0aEF1dGg6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogU3ByYXdkemEsIGN6eSB1xbx5dGtvd25payBtYSBwcmF3aWTFgm93xIUgc2VzasSZIENsZXJrXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5VXNlclNlc3Npb24oKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBjdXJyZW50VXNlcigpO1xyXG4gICAgXHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTcHJhd2TFuiwgY3p5IG1vxbxlbXkgcG9icmHEhyB0b2tlblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgYXV0aEluc3RhbmNlID0gYXV0aCgpO1xyXG4gICAgICBpZiAoIWF1dGhJbnN0YW5jZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBhdXRoSW5zdGFuY2UuZ2V0VG9rZW4oKTtcclxuICAgICAgcmV0dXJuICEhdG9rZW47XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB2ZXJpZnlpbmcgdXNlciBzZXNzaW9uOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFeGNlcHRpb24gaW4gdmVyaWZ5VXNlclNlc3Npb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJjdXJyZW50VXNlciIsImF1dGgiLCJzdXBhYmFzZUFkbWluIiwiY3JlYXRlU2VydmVyU3VwYWJhc2VDbGllbnQiLCJnZXRDdXJyZW50VXNlclByb2ZpbGUiLCJ1c2VyIiwiY29uc29sZSIsImxvZyIsImlkIiwic3VwYWJhc2VDbGllbnQiLCJkYXRhIiwiYXV0aERhdGEiLCJlcnJvciIsImF1dGhFcnJvciIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImNvZGUiLCJnZXRPckNyZWF0ZVVzZXJQcm9maWxlIiwidXNlclByb2ZpbGUiLCJlbWFpbCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiaW1hZ2VVcmwiLCJlbWFpbEFkZHJlc3NlcyIsImxlbmd0aCIsImVtYWlsQWRkcmVzcyIsIm5ld1Byb2ZpbGUiLCJleHRlcm5hbF9hdXRoX2lkIiwiZGlzcGxheV9uYW1lIiwidHJpbSIsInVzZXJuYW1lIiwicGhvbmVfbnVtYmVyIiwicGhvbmVOdW1iZXJzIiwicGhvbmVOdW1iZXIiLCJwcm9maWxlX3R5cGUiLCJ2ZXJpZmljYXRpb25fbGV2ZWwiLCJiaW8iLCJhdmF0YXJfdXJsIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRfYXQiLCJjcmVhdGVkUHJvZmlsZSIsImNyZWF0ZUVycm9yIiwiaW5zZXJ0IiwidXBkYXRlVXNlclByb2ZpbGUiLCJ1c2VySWQiLCJwcm9maWxlRGF0YSIsIkVycm9yIiwidXBkYXRlIiwiZ2V0VXNlclByb2ZpbGVXaXRoQXV0aCIsInN1cGFiYXNlQXV0aCIsInZlcmlmeVVzZXJTZXNzaW9uIiwiYXV0aEluc3RhbmNlIiwidG9rZW4iLCJnZXRUb2tlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth-service.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase-admin-client.js":
/*!******************************************!*\
  !*** ./src/lib/supabase-admin-client.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://twiarwghktzljergqfsm.supabase.co\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_KEY || process.env.SUPABASE_SERVICE_ROLE_KEY;\nif (!supabaseUrl || !supabaseServiceKey) {\n    console.error(\"Missing environment variables: NEXT_PUBLIC_SUPABASE_URL or SUPABASE_SERVICE_KEY/SUPABASE_SERVICE_ROLE_KEY\");\n}\n// Klient z uprawnieniami administratora, używany TYLKO na serwerze\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    },\n    // Ustaw globalny header do omijania RLS\n    global: {\n        headers: {\n            \"x-supabase-bypass-rls\": \"true\"\n        }\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supabaseAdmin);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlLWFkbWluLWNsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxRDtBQUVyRCxNQUFNQyxjQUFjQywwQ0FBb0M7QUFDeEQsTUFBTUcscUJBQXFCSCxRQUFRQyxHQUFHLENBQUNHLG9CQUFvQixJQUFJSixRQUFRQyxHQUFHLENBQUNJLHlCQUF5QjtBQUVwRyxJQUFJLENBQUNOLGVBQWUsQ0FBQ0ksb0JBQW9CO0lBQ3ZDRyxRQUFRQyxLQUFLLENBQ1g7QUFFSjtBQUVBLG1FQUFtRTtBQUNuRSxNQUFNQyxnQkFBZ0JWLG1FQUFZQSxDQUFDQyxhQUFhSSxvQkFBb0I7SUFDbEVNLE1BQU07UUFDSkMsa0JBQWtCO1FBQ2xCQyxnQkFBZ0I7SUFDbEI7SUFDQSx3Q0FBd0M7SUFDeENDLFFBQVE7UUFDTkMsU0FBUztZQUNQLHlCQUF5QjtRQUMzQjtJQUNGO0FBQ0Y7QUFFQSxpRUFBZUwsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2dyb3Vwc2hhcmUtcHJvamVjdC8uL3NyYy9saWIvc3VwYWJhc2UtYWRtaW4tY2xpZW50LmpzPzlhZDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcclxuXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xyXG5jb25zdCBzdXBhYmFzZVNlcnZpY2VLZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX0tFWSB8fCBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZO1xyXG5cclxuaWYgKCFzdXBhYmFzZVVybCB8fCAhc3VwYWJhc2VTZXJ2aWNlS2V5KSB7XHJcbiAgY29uc29sZS5lcnJvcihcclxuICAgICdNaXNzaW5nIGVudmlyb25tZW50IHZhcmlhYmxlczogTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIG9yIFNVUEFCQVNFX1NFUlZJQ0VfS0VZL1NVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVknXHJcbiAgKTtcclxufVxyXG5cclxuLy8gS2xpZW50IHogdXByYXduaWVuaWFtaSBhZG1pbmlzdHJhdG9yYSwgdcW8eXdhbnkgVFlMS08gbmEgc2Vyd2VyemVcclxuY29uc3Qgc3VwYWJhc2VBZG1pbiA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VTZXJ2aWNlS2V5LCB7XHJcbiAgYXV0aDoge1xyXG4gICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsXHJcbiAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2VcclxuICB9LFxyXG4gIC8vIFVzdGF3IGdsb2JhbG55IGhlYWRlciBkbyBvbWlqYW5pYSBSTFNcclxuICBnbG9iYWw6IHtcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgJ3gtc3VwYWJhc2UtYnlwYXNzLXJscyc6ICd0cnVlJ1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzdXBhYmFzZUFkbWluOyJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZVNlcnZpY2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX0tFWSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJjb25zb2xlIiwiZXJyb3IiLCJzdXBhYmFzZUFkbWluIiwiYXV0aCIsImF1dG9SZWZyZXNoVG9rZW4iLCJwZXJzaXN0U2Vzc2lvbiIsImdsb2JhbCIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase-admin-client.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase-server.js":
/*!************************************!*\
  !*** ./src/lib/supabase-server.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createServerSupabaseClient: () => (/* binding */ createServerSupabaseClient)\n/* harmony export */ });\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/app-router/server/auth.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n\nconst supabaseUrl = \"https://twiarwghktzljergqfsm.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3aWFyd2doa3R6bGplcmdxZnNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQwMzUxNzUsImV4cCI6MjA1OTYxMTE3NX0.EOGGJVUQeeAG__KyJA_xkIGUjWhTReGEDWa9JV6LZz8\";\nif (!supabaseUrl || !supabaseAnonKey) {\n    console.error(\"Missing Supabase environment variables\");\n}\n/**\r\n * Tworzy klienta Supabase dla użycia po stronie serwera\r\n * zgodnie z nową integracją Clerk-Supabase\r\n */ function createServerSupabaseClient() {\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey, {\n        global: {\n            headers: {\n                \"x-clerk-auth-reason\": \"server-component\"\n            }\n        },\n        async accessToken () {\n            try {\n                // W najnowszej wersji Clerk, auth() nie ma bezpośrednio metody getToken()\n                // Zamiast tego, sam obiekt auth jest funkcją, którą można użyć do pobrania tokenu\n                const authObject = (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_1__.auth)();\n                if (!authObject) {\n                    console.log(\"No auth instance available in server context\");\n                    return null;\n                }\n                // W aktualnej wersji Clerk token jest tak pobierany\n                return await authObject.getToken({\n                    template: \"supabase\"\n                });\n            } catch (error) {\n                console.error(\"Error getting token in server context:\", error);\n                return null;\n            }\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlLXNlcnZlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEM7QUFDUztBQUVyRCxNQUFNRSxjQUFjQywwQ0FBb0M7QUFDeEQsTUFBTUcsa0JBQWtCSCxrTkFBeUM7QUFFakUsSUFBSSxDQUFDRCxlQUFlLENBQUNJLGlCQUFpQjtJQUNwQ0UsUUFBUUMsS0FBSyxDQUFDO0FBQ2hCO0FBRUE7OztDQUdDLEdBQ00sU0FBU0M7SUFDZCxPQUFPVCxtRUFBWUEsQ0FDakJDLGFBQ0FJLGlCQUNBO1FBQ0VLLFFBQVE7WUFDTkMsU0FBUztnQkFDUCx1QkFBdUI7WUFDekI7UUFDRjtRQUNBLE1BQU1DO1lBQ0osSUFBSTtnQkFDRiwwRUFBMEU7Z0JBQzFFLGtGQUFrRjtnQkFDbEYsTUFBTUMsYUFBYWQsMERBQUlBO2dCQUN2QixJQUFJLENBQUNjLFlBQVk7b0JBQ2ZOLFFBQVFPLEdBQUcsQ0FBQztvQkFDWixPQUFPO2dCQUNUO2dCQUVBLG9EQUFvRDtnQkFDcEQsT0FBTyxNQUFNRCxXQUFXRSxRQUFRLENBQUM7b0JBQUVDLFVBQVU7Z0JBQVc7WUFDMUQsRUFBRSxPQUFPUixPQUFPO2dCQUNkRCxRQUFRQyxLQUFLLENBQUMsMENBQTBDQTtnQkFDeEQsT0FBTztZQUNUO1FBQ0Y7SUFDRjtBQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JvdXBzaGFyZS1wcm9qZWN0Ly4vc3JjL2xpYi9zdXBhYmFzZS1zZXJ2ZXIuanM/ZmExNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhdXRoIH0gZnJvbSAnQGNsZXJrL25leHRqcy9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xyXG5cclxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XHJcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZO1xyXG5cclxuaWYgKCFzdXBhYmFzZVVybCB8fCAhc3VwYWJhc2VBbm9uS2V5KSB7XHJcbiAgY29uc29sZS5lcnJvcignTWlzc2luZyBTdXBhYmFzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMnKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFR3b3J6eSBrbGllbnRhIFN1cGFiYXNlIGRsYSB1xbx5Y2lhIHBvIHN0cm9uaWUgc2Vyd2VyYVxyXG4gKiB6Z29kbmllIHogbm93xIUgaW50ZWdyYWNqxIUgQ2xlcmstU3VwYWJhc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXJ2ZXJTdXBhYmFzZUNsaWVudCgpIHtcclxuICByZXR1cm4gY3JlYXRlQ2xpZW50KFxyXG4gICAgc3VwYWJhc2VVcmwsXHJcbiAgICBzdXBhYmFzZUFub25LZXksXHJcbiAgICB7XHJcbiAgICAgIGdsb2JhbDoge1xyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICd4LWNsZXJrLWF1dGgtcmVhc29uJzogJ3NlcnZlci1jb21wb25lbnQnXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBhc3luYyBhY2Nlc3NUb2tlbigpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgLy8gVyBuYWpub3dzemVqIHdlcnNqaSBDbGVyaywgYXV0aCgpIG5pZSBtYSBiZXpwb8WbcmVkbmlvIG1ldG9keSBnZXRUb2tlbigpXHJcbiAgICAgICAgICAvLyBaYW1pYXN0IHRlZ28sIHNhbSBvYmlla3QgYXV0aCBqZXN0IGZ1bmtjasSFLCBrdMOzcsSFIG1vxbxuYSB1xbx5xIcgZG8gcG9icmFuaWEgdG9rZW51XHJcbiAgICAgICAgICBjb25zdCBhdXRoT2JqZWN0ID0gYXV0aCgpO1xyXG4gICAgICAgICAgaWYgKCFhdXRoT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBhdXRoIGluc3RhbmNlIGF2YWlsYWJsZSBpbiBzZXJ2ZXIgY29udGV4dCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gVyBha3R1YWxuZWogd2Vyc2ppIENsZXJrIHRva2VuIGplc3QgdGFrIHBvYmllcmFueVxyXG4gICAgICAgICAgcmV0dXJuIGF3YWl0IGF1dGhPYmplY3QuZ2V0VG9rZW4oeyB0ZW1wbGF0ZTogJ3N1cGFiYXNlJyB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB0b2tlbiBpbiBzZXJ2ZXIgY29udGV4dDonLCBlcnJvcik7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICApO1xyXG59Il0sIm5hbWVzIjpbImF1dGgiLCJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImNvbnNvbGUiLCJlcnJvciIsImNyZWF0ZVNlcnZlclN1cGFiYXNlQ2xpZW50IiwiZ2xvYmFsIiwiaGVhZGVycyIsImFjY2Vzc1Rva2VuIiwiYXV0aE9iamVjdCIsImxvZyIsImdldFRva2VuIiwidGVtcGxhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase-server.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@clerk","vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/tslib","vendor-chunks/webidl-conversions","vendor-chunks/cookie","vendor-chunks/map-obj","vendor-chunks/no-case","vendor-chunks/lower-case","vendor-chunks/snakecase-keys","vendor-chunks/snake-case","vendor-chunks/dot-case"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foffers%2Froute&page=%2Fapi%2Foffers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foffers%2Froute.js&appDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShareClerk_Supabase%5Cgroupshare-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cbacze%5CProject%5CGroupShareClerk_Supabase%5Cgroupshare-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();